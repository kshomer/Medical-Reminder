# üöß –°—Ç–∞—Ç—É—Å —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω–æ–≥–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞

## ‚úÖ –ß—Ç–æ –≥–æ—Ç–æ–≤–æ:

### 1. **–í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —É—Ç–∏–ª–∏—Ç—ã**
- ‚úÖ `src/utils/calendar.ts` - –∫–∞–ª–µ–Ω–¥–∞—Ä—å –¥–ª—è –≤—ã–±–æ—Ä–∞ –¥–∞—Ç
- ‚úÖ `generateWeekDaysKeyboard()` - –≤—ã–±–æ—Ä –¥–Ω–µ–π –Ω–µ–¥–µ–ª–∏
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω—ã —Ç–∏–ø—ã –≤ `src/bot/types.ts`

### 2. **–ù–∞—á–∞—Ç —É–ª—É—á—à–µ–Ω–Ω—ã–π —Å—Ü–µ–Ω–∞—Ä–∏–π**
- ‚úÖ –®–∞–≥ 1-2: –ù–∞–∑–≤–∞–Ω–∏–µ –ª–µ–∫–∞—Ä—Å—Ç–≤–∞
- ‚úÖ –®–∞–≥ 3: –û–ø–∏—Å–∞–Ω–∏–µ
- ‚úÖ –®–∞–≥ 4: –î–∞—Ç–∞ –Ω–∞—á–∞–ª–∞ —Å –∫–∞–ª–µ–Ω–¥–∞—Ä–µ–º
- ‚úÖ –®–∞–≥ 5: –î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –ø—Ä–∏—ë–º–∞ —Å –≤—ã–±–æ—Ä–æ–º –ø–µ—Ä–∏–æ–¥–∞

## ‚úÖ –≠–¢–ê–ü 1 –ó–ê–í–ï–†–®–Å–ù:

### 3. **–ß–∞—Å—Ç–æ—Ç–∞ –ø—Ä–∏—ë–º–∞ –∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–∞–∑** ‚úÖ
- ‚úÖ **–®–∞–≥ 6**: –ß–∞—Å—Ç–æ—Ç–∞ –ø—Ä–∏—ë–º–∞
  - ‚úÖ –ö–∞–∂–¥—ã–π –¥–µ–Ω—å (DAILY)
  - ‚úÖ **–í—ã–±–æ—Ä –¥–Ω–µ–π –Ω–µ–¥–µ–ª–∏** (WEEKLY) - –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –∫–ª–∞–≤–∏–∞—Ç—É—Ä–∞
  - ‚úÖ –ß–µ—Ä–µ–∑ N –¥–Ω–µ–π (INTERVAL) - –≤–≤–æ–¥ —á–∏—Å–ª–∞
  
- ‚úÖ **–®–∞–≥ 6b**: –û–±—Ä–∞–±–æ—Ç–∫–∞ –∏–Ω—Ç–µ—Ä–≤–∞–ª–∞
  - ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è —á–∏—Å–ª–∞
  - ‚úÖ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ `intervalDays`

- ‚úÖ **–®–∞–≥ 7**: –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–∞–∑ –≤ –¥–µ–Ω—å
  - ‚úÖ –ö–Ω–æ–ø–∫–∏: 1, 2, 3 —Ä–∞–∑–∞
  - ‚úÖ "–£–∫–∞–∑–∞—Ç—å —Å–≤–æ—ë" - custom –≤–≤–æ–¥
  
- ‚úÖ **–®–∞–≥ 7b**: Custom –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ
  - ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è (1-10)
  - ‚úÖ –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –º–∞—Å—Å–∏–≤–∞ schedules

## ‚úÖ –≠–¢–ê–ü 2 –ó–ê–í–ï–†–®–Å–ù:

### 4. **–í–≤–æ–¥ –≤—Ä–µ–º–µ–Ω–∏ –∏ –¥–æ–∑–∏—Ä–æ–≤–∫–∏ + —Ñ–∏–Ω–∞–ª** ‚úÖ
- ‚úÖ **–®–∞–≥ 8**: –í–≤–æ–¥ –≤—Ä–µ–º–µ–Ω–∏ (–ß–ß:–ú–ú) —Å –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π
- ‚úÖ **–®–∞–≥ 9**: –í–≤–æ–¥ –¥–æ–∑–∏—Ä–æ–≤–∫–∏
- ‚úÖ **–®–∞–≥ 10**: –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ –ø—Ä–∏—ë–º–∞:
  - ‚úÖ –î–æ –µ–¥—ã
  - ‚úÖ –ü–æ—Å–ª–µ –µ–¥—ã
  - ‚úÖ **–í–æ –≤—Ä–µ–º—è –µ–¥—ã** ‚¨ÖÔ∏è –ù–û–í–û–ï!
  - ‚úÖ –ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å
- ‚úÖ **–¶–∏–∫–ª**: –ü–æ–≤—Ç–æ—Ä –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø—Ä–∏—ë–º–∞ (2-10 —Ä–∞–∑ –≤ –¥–µ–Ω—å)
- ‚úÖ **–®–∞–≥ 11**: –§–∏–Ω–∞–ª—å–Ω–æ–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ —Å –∫—Ä–∞—Å–∏–≤—ã–º –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ–º
- ‚úÖ **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ –ë–î** —á–µ—Ä–µ–∑ MedicationService

**–§–∞–π–ª:** `src/bot/scenes/add-medication-improved.scene.ts` (551 —Å—Ç—Ä–æ–∫–∞)

### 4. **–ö–æ–º–∞–Ω–¥–∞ /edit** (–Ω–µ –Ω–∞—á–∞—Ç–∞)
- ‚ùå –í—ã–±–æ—Ä –ª–µ–∫–∞—Ä—Å—Ç–≤–∞ –¥–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- ‚ùå –°—Ü–µ–Ω–∞—Ä–∏–π —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

##  –†–∞–∑–º–µ—Ä –∑–∞–¥–∞—á–∏

–£–ª—É—á—à–µ–Ω–Ω—ã–π —Å—Ü–µ–Ω–∞—Ä–∏–π `add-medication-improved.scene.ts` –±—É–¥–µ—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å:
- **~600-800 —Å—Ç—Ä–æ–∫ –∫–æ–¥–∞**
- **12-15 —à–∞–≥–æ–≤ wizard**
- –û–±—Ä–∞–±–æ—Ç–∫–∞ callback –¥–ª—è –∫–∞–ª–µ–Ω–¥–∞—Ä—è, –¥–Ω–µ–π –Ω–µ–¥–µ–ª–∏, –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏

–ò–∑-–∑–∞ —Ä–∞–∑–º–µ—Ä–∞, —è —Å–æ–∑–¥–∞–º —Ñ–∞–π–ª –ø–æ —á–∞—Å—Ç—è–º –∏–ª–∏ —Ä–∞–∑–¥–µ–ª—é –Ω–∞ –º–æ–¥—É–ª–∏.

## üéØ –°–ª–µ–¥—É—é—â–∏–µ –¥–µ–π—Å—Ç–≤–∏—è:

1. **–î–æ–¥–µ–ª–∞—Ç—å —Å—Ü–µ–Ω–∞—Ä–∏–π `add-medication-improved`**
   - –î–æ–±–∞–≤–∏—Ç—å —à–∞–≥–∏ 6-N
   - –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É –¥–Ω–µ–π –Ω–µ–¥–µ–ª–∏
   - –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–π –≤–≤–æ–¥ –≤—Ä–µ–º–µ–Ω–∏

2. **–ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –≤ –±–æ—Ç–∞**
   - –ó–∞–º–µ–Ω–∏—Ç—å —Å—Ç–∞—Ä—ã–π —Å—Ü–µ–Ω–∞—Ä–∏–π –Ω–∞ –Ω–æ–≤—ã–π
   - –û–±–Ω–æ–≤–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ callback

3. **–°–æ–∑–¥–∞—Ç—å –∫–æ–º–∞–Ω–¥—É /edit**
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–æ—Ç –∂–µ flow —á—Ç–æ –∏ add
   - –ü—Ä–µ–¥–∑–∞–ø–æ–ª–Ω–∏—Ç—å –¥–∞–Ω–Ω—ã–º–∏

4. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**

---

**–ü—Ä–æ–¥–æ–ª–∂–∏–º?** –°–∫–∞–∂–∏—Ç–µ "–ø—Ä–æ–¥–æ–ª–∂–∞–π" –∏ —è –¥–æ–¥–µ–ª–∞—é –≤–µ—Å—å —Å—Ü–µ–Ω–∞—Ä–∏–π!
